buildscript {
    dependencies {
        classpath "org.gradle.samples:provisionable-tool-chains:latest.integration"
    }
    repositories {
        mavenCentral()
    }
}

apply plugin: 'org.gradle.samples.provisionable-tool-chains'

group = 'my.toolchains.configuration'
version = '1.0-SNAPSHOT'

provisionableToolChains {
    repositoryDirectory = new File(projectDir.parentFile, ".toolChainRepository")
    toolChains {
        swiftc {
            String osName = System.getProperty('os.name').toLowerCase()
            if (osName.contains('linux')) {
                url = new URL("https://swift.org/builds/swift-4.0.3-release/ubuntu1404/swift-4.0.3-RELEASE/swift-4.0.3-RELEASE-ubuntu14.04.tar.gz")
            } else {
                println "Swift tool chain provisioning doesn't support operating system '${System.getProperty('os.name')}'"
            }
            type = Swiftc
        }
    }
}